"use strict";$("#myform").bootstrapValidator({message:"当前字段验证失败",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{username:{message:"用户名验证失败",validators:{notEmpty:{message:"用户名必须填写"},stringLength:{min:2,max:18,message:"用户名长度必须在2~18位之间"}}},checkCode:{message:"验证码验证失败",validators:{notEmpty:{message:"验证码必须填写"},stringLength:{min:1,max:4,message:"用户名长度必须在1-4位之间"}}},inputPassword1:{validators:{notEmpty:{message:"密码必须填写"},stringLength:{min:6,max:30,message:"密码长度必须在6~30位之间"}}},inputPassword2:{validators:{notEmpty:{message:"确认密码必须填写"},stringLength:{min:6,max:30,message:"确认密码长度必须在6~30位之间"},identical:{field:"inputPassword1",message:"两次密码必须保持一致"}}},mobile:{validators:{notEmpty:{message:"手机号码必须填写"},regexp:{regexp:/^1(3|4|5|6|7|8)\d{9}$/,message:"手机号码格式错误，必须是11位数字"}}},email:{validators:{notEmpty:{message:"电子邮件必须填写"},emailAddress:{message:"电子邮件地址格式不正确，正确格式：abc@126.com"}}}}}).on("success.form.bv",function(s){s.preventDefault();var e=$("#myform").serialize();$.post("../../API/user.php",e,function(s){if(s.isok){$("#myModal").modal("show"),$("#myModalLabel").text(s.msg),$(".modal-body").html("<span class='glyphicon glyphicon-ok text-success'></span>"+s.msg+"<span id='num'>3</span>秒后跳转登录页面");var e=3,a=setInterval(function(){e--,$("#num").text(e),e<=0&&(clearInterval(a),location.href="/login.php")},1e3)}else $("#myModalLabel").text(s.msg),$(".modal-body").html("<span class='glyphicon glyphicon-ok text-danger'></span>"+s.msg)},"json")});